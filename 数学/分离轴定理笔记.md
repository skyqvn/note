# 分离轴定理笔记

分离轴定理（Separating Axis Theorem，简称 SAT）是计算机图形学、机器人运动规划以及物理模拟等领域中用于检测物体碰撞的重要理论依据，以下从多个维度对其进行介绍。

## 一、定义

分离轴定理指出：在$n$维空间中，对于两个凸体（如矩形、多边形、多面体等），如果存在一条轴（分离轴），使得两个凸体在该轴上的投影不重叠，那么这两个凸体是不相交的；反之，若在所有可能的分离轴上，两个凸体的投影都存在重叠部分，则这两个凸体发生了碰撞 。

## 二、核心原理

**分离轴**：分离轴是垂直于凸体某条边（二维）或某个面（三维）的直线（轴）。对于两个凸体，可能存在多条潜在的分离轴，例如二维情况下，两个多边形的每条边的垂直方向都可作为分离轴候选；三维情况下，多面体每个面的法线方向可作为分离轴候选。

**投影重叠判断**：将两个凸体分别投影到分离轴上，通过比较投影区间是否有交集来判断物体是否碰撞。若投影区间无交集，说明存在间隙，物体未碰撞；若投影区间存在交集，则需继续检查其他分离轴。只有当在所有可能的分离轴上投影都重叠时，才能确定两个凸体发生了碰撞。

## 三、算法步骤

以二维凸多边形为例：

**确定分离轴集合**：收集两个凸多边形所有边的垂直方向作为分离轴。

**投影计算**：将两个凸多边形的所有顶点分别投影到每一条分离轴上，记录每个多边形投影点在轴上的最小和最大坐标值，从而确定各自的投影区间。

**重叠检测**：逐一检查每条分离轴上两个多边形投影区间是否有重叠。若发现某条分离轴上投影区间无重叠，立即判定两个多边形未发生碰撞，算法结束；若所有分离轴上投影区间都有重叠，则判定两个多边形发生碰撞。

在三维空间中，步骤类似，只是将边替换为面，将垂直方向改为面的法线方向。

## 四、优势与局限性

**优势：**

**高效性**：相比一些暴力碰撞检测方法，分离轴定理通过快速排除不存在碰撞的情况，大幅减少计算量，尤其适用于凸体对象。

**理论完备**：对于凸体碰撞检测，分离轴定理提供了严格的数学判断依据，结果准确可靠。

**局限性：**

**仅适用于凸体**：分离轴定理仅对凸体有效，对于凹体需要先分割成多个凸体，再分别应用定理，增加了计算复杂度。

**计算复杂度**：在高维空间或复杂形状的凸体中，潜在分离轴数量增多，计算量会显著增加。

## 五、应用场景

**游戏开发**：用于游戏中角色与场景物体、角色与角色之间的碰撞检测，例如判断角色是否与墙壁、障碍物碰撞，实现真实的物理交互效果。

**机器人运动规划**：在机器人运动过程中，检测机器人与周围环境物体是否发生碰撞，确保机器人安全、顺利地完成运动任务。

**物理模拟**：在模拟刚体运动、物体间相互作用等物理场景时，利用分离轴定理进行碰撞检测，为后续的物理计算提供准确的碰撞信息 。